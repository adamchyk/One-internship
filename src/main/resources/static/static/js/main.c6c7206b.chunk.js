(this["webpackJsonpone-internship-web"]=this["webpackJsonpone-internship-web"]||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),i=n.n(r),o=(n(132),n(133),n(11)),s=n(236),l=n(209),j=n(204),u=n(230),d=n(210),b=n(69),h=n.n(b),O=n(46),x=n(200),p=n(202),m=n(14),f=n(21),g=n(20),v=n.n(g),y=n(2),C=Object(a.createContext)();function w(e){var t=e.children,n=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(e,t){return v.a.post("/api/login",{username:e,password:t}).then((function(e){var t=e.data;return c(t),t}))},i=function(e,t){return v.a.post("/api/signup",{username:e,password:t}).then((function(e){}))},s=function(){return v.a.post("/api/logout").then((function(e){return c(!1),n})).catch((function(){c(!1)}))},l=function(){return!!n};return Object(a.useEffect)((function(){return v.a.get("/api/me").then((function(e){var t=e.data;c(t)})).catch((function(){c(!1)}))}),[]),{user:n,isAuthenticated:l,login:r,signup:i,logout:s}}();return Object(y.jsx)(C.Provider,{value:n,children:t})}var S=function(){return Object(a.useContext)(C)};var N=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(){var e=N(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),b=Object(o.a)(i,2),x=b[0],g=b[1],v=Object(a.useState)(""),C=Object(o.a)(v,2),w=C[0],k=C[1],A=Object(m.g)(),F=S();Object(a.useEffect)((function(){F.isAuthenticated()&&A.replace("/dashboard")}),[F,A]);return Object(y.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(j.a,{}),Object(y.jsxs)("div",{className:e.paper,children:[Object(y.jsx)(s.a,{className:e.avatar,children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(y.jsx)(O.a,{color:"error",children:w}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),""!==c&&""!==x?F.login(c,x).then((function(){A.replace("/dashboard")})).catch((function(){k("Invalid username and/or password.")})):k("Enter username and password.")},children:[Object(y.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:c,error:!!w,onInput:function(e){return r(e.target.value)}}),Object(y.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:x,error:!!w,onInput:function(e){return g(e.target.value)}}),Object(y.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(y.jsx)(d.a,{container:!0,justifyContent:"flex-end",children:Object(y.jsx)(d.a,{item:!0,children:Object(y.jsx)(f.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]})]})}var A=n(231);function F(){return Object(y.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(y.jsx)(f.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var I=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function D(){var e=I(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),b=Object(o.a)(i,2),x=b[0],g=b[1],v=Object(a.useState)(""),C=Object(o.a)(v,2),w=C[0],N=C[1],k=Object(m.g)(),D=S();D.isAuthenticated()&&k.replace("/dashboard");return Object(y.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(j.a,{}),Object(y.jsxs)("div",{className:e.paper,children:[Object(y.jsx)(s.a,{className:e.avatar,children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(y.jsx)(O.a,{color:"error",children:w}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),""!==c&&""!==x?D.signup(c,x).then((function(){k.replace("/login")})).catch((function(e){e.response?N(e.response.data.msg):N("Invalid username and/or password.")})):N("Enter username and password.")},children:[Object(y.jsxs)(d.a,{container:!0,spacing:2,children:[Object(y.jsx)(d.a,{item:!0,xs:12,children:Object(y.jsx)(u.a,{autoComplete:"name",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,value:c,error:!!w,onInput:function(e){return r(e.target.value)}})}),Object(y.jsx)(d.a,{item:!0,xs:12,children:Object(y.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:x,error:!!w,onInput:function(e){return g(e.target.value)}})})]}),Object(y.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(y.jsx)(d.a,{container:!0,justifyContent:"flex-end",children:Object(y.jsx)(d.a,{item:!0,children:Object(y.jsx)(f.b,{to:"/",children:"Already have an account? Sign in"})})})]})]}),Object(y.jsx)(A.a,{mt:5,children:Object(y.jsx)(F,{})})]})}var W=function(){return Object(y.jsx)("h1",{children:"Not Found"})},E=n(208),T=n(219),V=n(220),P=n(222),U=n(221),R=n(215),L=n(108),q=n.n(L),B=n(109),G=n.n(B),M=n(110),Y=n.n(M),J=n(217),H=n(218),K=n(206),z=n(205),Q=n(223),X=n(233),Z=n(237),$=n(235),_=n(216),ee=n(213),te=n(214),ne=n(212),ae=n(53),ce=n(211),re=n(232),ie=Object(ce.a)();var oe=function(e){var t=e.note,n=e.open,a=e.handleClose,r=e.categories,i=c.a.useState(),s=Object(o.a)(i,2),j=s[0],d=s[1],b=c.a.useState(),h=Object(o.a)(b,2),x=h[0],p=h[1],m=c.a.useState(),f=Object(o.a)(m,2),g=f[0],C=f[1],w=c.a.useState(""),S=Object(o.a)(w,2),N=S[0],k=S[1];c.a.useEffect((function(){t||(t={id:null,category:null,note:""}),d(t.id),p(t.note),C({name:t.categoryName})}),[t]);var A=function(){k(""),a(!1)};return Object(y.jsxs)($.a,{open:n,onClose:A,children:[Object(y.jsx)(ne.a,{id:"form-dialog-title",children:"Create/Update Note"}),Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{children:"Enter note text below:"}),Object(y.jsx)(O.a,{color:"error",children:N}),Object(y.jsx)(re.a,{value:g,onChange:function(e,t){"string"===typeof t?C({name:t}):t&&t.inputValue?C({name:t.inputValue}):C(t)},filterOptions:function(e,t){var n=ie(e,t);return""!==t.inputValue&&n.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:r,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},renderOption:function(e){return e.name},style:{width:300},freeSolo:!0,renderInput:function(e){return Object(y.jsx)(u.a,Object(ae.a)(Object(ae.a)({},e),{},{label:"Choose or create a new category",variant:"outlined"}))}}),Object(y.jsx)("br",{}),Object(y.jsx)(u.a,{id:"text",label:"Note text",type:"text",variant:"outlined",fullWidth:!0,multiline:!0,maxRows:4,value:x,onChange:function(e){return p(e.target.value)}})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(l.a,{onClick:A,color:"primary",children:"Cancel"}),Object(y.jsx)(l.a,{onClick:function(e){e.preventDefault(),x&&g.name?v.a.post("/api/notes",{id:j,note:x,categoryName:g.name}).then((function(e){a(!0)})).catch((function(e){e.response?k(e.response.data.msg):k("Cannot save note.")})):k("Note text and category required.")},color:"primary",children:"Add/Update"})]})]})},se=Object(x.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},rootForFilters:{display:"flex"},formControl:{margin:e.spacing(3)}}}));var le=function(){var e=se(),t=c.a.useState(1),n=Object(o.a)(t,2),r=n[0],i=n[1],j=c.a.useState(""),b=Object(o.a)(j,2),h=b[0],x=b[1],m=c.a.useState(""),g=Object(o.a)(m,2),C=g[0],w=g[1],N=c.a.useState([]),k=Object(o.a)(N,2),F=k[0],I=k[1],D=c.a.useState([]),W=Object(o.a)(D,2),L=W[0],B=W[1],M=c.a.useState(),ae=Object(o.a)(M,2),ce=ae[0],re=ae[1],ie=c.a.useState(!1),le=Object(o.a)(ie,2),je=le[0],ue=le[1],de=c.a.useState(),be=Object(o.a)(de,2),he=be[0],Oe=be[1],xe=S(),pe=function(){v.a.get("/api/notes",{params:{noteContains:C,categoryId:h,page:r}}).then((function(e){I(e.data)})),v.a.get("/api/categories").then((function(e){B(e.data)}))};Object(a.useEffect)((function(){pe()}),[h,C,r]);var me=function(e){e?v.a.delete("/api/notes/"+ce).then((function(){re(null),pe()})):re(null)},fe=function(e){Oe(e),ue(!0)};return Object(y.jsxs)(p.a,{fixed:!0,children:[Object(y.jsx)(J.a,{position:"static",children:Object(y.jsxs)(H.a,{children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,children:"Dashboard"}),Object(y.jsx)(l.a,{color:"inherit",onClick:xe.logout,children:"Logout"}),xe.user.admin&&Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/admin",children:"ADMIN"})]})}),Object(y.jsxs)(d.a,{container:!0,spacing:4,children:[Object(y.jsxs)(d.a,{item:!0,xs:6,md:8,children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,style:{marginTop:"20px"},children:"My Notes:"}),Object(y.jsxs)(d.a,{container:!0,children:[Object(y.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(y.jsx)(u.a,{id:"outlined-basic",label:"Note search",variant:"outlined",fullWidth:!0,onChange:function(e){var t=e.target.value;console.log(t),w(t)}})}),"\xa0",Object(y.jsx)(l.a,{variant:"contained",color:"secondary",onClick:fe,children:"Add a new note"})]}),Object(y.jsxs)("div",{className:e.demo,children:[0===F.length?Object(y.jsx)("div",{children:"No notes."}):null,Object(y.jsx)(E.a,{dense:!1,children:F.map((function(e){return Object(y.jsxs)(T.a,{children:[Object(y.jsx)(V.a,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(q.a,{})})}),Object(y.jsx)(U.a,{primary:e.note,secondary:e.categoryName}),Object(y.jsxs)(P.a,{children:[Object(y.jsx)(R.a,{edge:"end",onClick:function(){return function(e){re(e.id)}(e)},children:Object(y.jsx)(G.a,{})}),Object(y.jsx)(R.a,{edge:"end",onClick:function(){return fe(e)},children:Object(y.jsx)(Y.a,{})})]})]},e.id)}))})]})]}),Object(y.jsxs)(d.a,{item:!0,xs:6,md:4,children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,align:"left",children:"Categories"}),Object(y.jsx)("div",{className:e.rootForFilters,children:Object(y.jsxs)(z.a,{component:"fieldset",children:[Object(y.jsx)(K.a,{component:"legend",children:"Choose one"}),Object(y.jsxs)(Z.a,{name:"category",value:h,onChange:function(e){var t=e.target.value;x(t?parseInt(t):"")},children:[Object(y.jsx)(Q.a,{value:"",control:Object(y.jsx)(X.a,{}),label:"All"}),L.map((function(e){return Object(y.jsx)(Q.a,{value:e.id,control:Object(y.jsx)(X.a,{}),label:e.name},e.id)}))]})]})})]})]}),Object(y.jsxs)(A.a,{mt:6,children:[1!==r&&Object(y.jsx)(l.a,{variant:"contained",style:{marginRight:"10px"},onClick:function(){return i(r-1)},children:"Previous Page"}),Object(y.jsx)(O.a,{style:{marginRight:"10px",marginLeft:"10px"},children:r}),5===F.length&&Object(y.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return i(r+1)},children:"Next Page"})]}),Object(y.jsxs)($.a,{open:!!ce,onClose:me,children:[Object(y.jsx)(ne.a,{id:"alert-dialog-title",children:"Are you sure want to delete?"}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{id:"alert-dialog-description",children:"This note will be deleted permanently. You sure want to delete it?"})}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(l.a,{onClick:function(){return me(!0)},color:"secondary",children:"Delete"}),Object(y.jsx)(l.a,{onClick:function(){return me(!1)},color:"primary",autoFocus:!0,children:"Cancel"})]})]}),Object(y.jsx)(oe,{note:he,open:je,handleClose:function(e){e&&pe(),ue(!1)},handleSave:function(){return ue(!1)},categories:L})]})},je=n(111),ue=["children"];var de=function(e){var t=e.children,n=Object(je.a)(e,ue),a=S();return Object(y.jsx)(m.b,Object(ae.a)(Object(ae.a)({},n),{},{render:function(e){var n=e.location;return a.user?t:Object(y.jsx)(m.a,{to:{pathname:"/login",state:{from:n}}})}}))},be=n(225),he=n(229),Oe=n(228),xe=n(224),pe=n(226),me=n(227),fe=n(160),ge=Object(x.a)({table:{minWidth:650},title:{flexGrow:1}});function ve(){var e=ge(),t=c.a.useState(!1),n=Object(o.a)(t,2),r=n[0],i=n[1],s=c.a.useState(!1),j=Object(o.a)(s,2),d=j[0],b=j[1],h=c.a.useState(""),x=Object(o.a)(h,2),m=x[0],g=x[1],C=c.a.useState([]),w=Object(o.a)(C,2),S=w[0],N=w[1],k=c.a.useState(),A=Object(o.a)(k,2),F=A[0],I=A[1],D=c.a.useState(),W=Object(o.a)(D,2),E=W[0],T=W[1];function V(){v.a.get("/api/users").then((function(e){N(e.data)}))}Object(a.useEffect)((function(){V()}),[]);var P=function(e){e?v.a.post("/api/users/password",{userId:F.id,newPassword:E}).then((function(){i(!1),T("")})).catch((function(){g("Something went wrong.")})):(i(!1),T(""))},U=function(e){e?v.a.post("/api/users/"+F.id+"/enableDisable").then((function(){b(!1),V()})):b(!1)};return Object(y.jsxs)(p.a,{fixed:!0,children:[Object(y.jsx)(J.a,{position:"static",children:Object(y.jsxs)(H.a,{children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,children:"Dashboard"}),Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/",children:"Logout"}),Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/dashboard",children:"Dashboard"})]})}),Object(y.jsx)(xe.a,{component:fe.a,children:Object(y.jsxs)(be.a,{className:e.table,children:[Object(y.jsx)(pe.a,{children:Object(y.jsxs)(me.a,{children:[Object(y.jsx)(Oe.a,{children:"USERNAME"}),Object(y.jsx)(Oe.a,{align:"left",children:"Role"}),Object(y.jsx)(Oe.a,{align:"left",children:"Active"}),Object(y.jsx)(Oe.a,{align:"left",children:"Action"})]})}),Object(y.jsx)(he.a,{children:S.map((function(e){return Object(y.jsxs)(me.a,{children:[Object(y.jsx)(Oe.a,{component:"th",scope:"row",children:e.username}),Object(y.jsx)(Oe.a,{align:"left",children:e.admin?"Admin":"User"}),Object(y.jsx)(Oe.a,{align:"left",children:e.enabled?"Enabled":"Disabled"}),Object(y.jsxs)(Oe.a,{align:"left",children:[Object(y.jsx)(l.a,{variant:"outlined",onClick:function(){return I(e),void i(!0)},color:"primary",style:{marginRight:"10px"},children:"Change password"}),Object(y.jsx)(l.a,{variant:"outlined",onClick:function(){return I(e),void b(!0)},children:e.enabled?"deactivate":"activate"})]})]},e.username)}))})]})}),Object(y.jsxs)($.a,{open:r,onClose:P,children:[Object(y.jsx)(ne.a,{id:"alert-dialog-title",children:"Are you sure you want to change the password?"}),Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{id:"alert-dialog-description",children:"The password will be changed permanently"}),Object(y.jsx)(O.a,{color:"error",children:m}),Object(y.jsx)(u.a,{id:"text",label:"User password",type:"password",variant:"outlined",fullWidth:!0,value:E,onChange:function(e){return T(e.target.value)}})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(l.a,{onClick:function(){return P(!0)},color:"secondary",children:"Change"}),Object(y.jsx)(l.a,{onClick:function(){return P(!1)},color:"primary",autoFocus:!0,children:"Cancel"})]})]}),Object(y.jsxs)($.a,{open:d,onClose:U,children:[Object(y.jsx)(ne.a,{id:"alert-dialog-title",children:"Are you sure you want to change account status?"}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{id:"alert-dialog-description",children:F&&F.enabled?"That user will no longer be active":"That user will be active"})}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(l.a,{onClick:function(){return U(!0)},color:"secondary",children:F&&F.enabled?"deactivate":"activate"}),Object(y.jsx)(l.a,{onClick:function(){return U(!1)},color:"primary",autoFocus:!0,children:"Cancel"})]})]})]})}var ye=function(){return Object(y.jsx)(w,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(m.d,{children:[Object(y.jsx)(m.b,{path:"/",component:k,exact:!0}),Object(y.jsx)(m.b,{path:"/login",component:k,exact:!0}),Object(y.jsx)(m.b,{path:"/signup",component:D}),Object(y.jsx)(de,{path:"/dashboard",children:Object(y.jsx)(le,{})}),Object(y.jsx)(de,{path:"/admin",children:Object(y.jsx)(ve,{})}),Object(y.jsx)(m.b,{component:W})]})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(f.a,{children:Object(y.jsx)(ye,{})}),document.getElementById("root")),Ce()}},[[158,1,2]]]);
//# sourceMappingURL=main.c6c7206b.chunk.js.map