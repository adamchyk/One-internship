(this["webpackJsonpone-internship-web"]=this["webpackJsonpone-internship-web"]||[]).push([[0],{136:function(e,t,n){},137:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),i=n.n(r),o=(n(136),n(137),n(13)),s=n(242),l=n(215),j=n(210),d=n(235),u=n(216),b=n(70),h=n.n(b),O=n(46),x=n(206),p=n(208),m=n(14),f=n(21),g=n(41),v=n.n(g),y=n(2),w=Object(a.createContext)();function C(e){var t=e.children,n=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(e,t){return v.a.post("/api/login",{username:e,password:t}).then((function(e){var t=e.data;return c(t),t}))},i=function(e,t){return v.a.post("/api/signup",{username:e,password:t}).then((function(e){var t=e.data;return c(t),t}))},s=function(){return v.a.post("/api/logout").then((function(e){return c(!1),n})).catch((function(){c(!1)}))},l=function(){return!!n};return Object(a.useEffect)((function(){return v.a.get("/api/me").then((function(e){var t=e.data;c(t)})).catch((function(){c(!1)}))}),[]),{user:n,isAuthenticated:l,login:r,signup:i,logout:s}}();return Object(y.jsx)(w.Provider,{value:n,children:t})}var S=function(){return Object(a.useContext)(w)};var N=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(){var e=N(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),b=Object(o.a)(i,2),x=b[0],g=b[1],v=Object(a.useState)(""),w=Object(o.a)(v,2),C=w[0],k=w[1],A=Object(m.g)(),I=S();I.isAuthenticated()&&A.replace("/dashboard");return Object(y.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(j.a,{}),Object(y.jsxs)("div",{className:e.paper,children:[Object(y.jsx)(s.a,{className:e.avatar,children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(y.jsx)(O.a,{color:"error",children:C}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),""!==c&&""!==x?I.login(c,x).then((function(){A.replace("/dashboard")})).catch((function(){k("Invalid username and/or password.")})):k("Enter username and password.")},children:[Object(y.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:c,error:C,onInput:function(e){return r(e.target.value)}}),Object(y.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:x,error:C,onInput:function(e){return g(e.target.value)}}),Object(y.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(y.jsx)(u.a,{container:!0,justifyContent:"flex-end",children:Object(y.jsx)(u.a,{item:!0,children:Object(y.jsx)(f.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]})]})}var A=n(217),I=n(240),F=n(236);function D(){return Object(y.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(y.jsx)(f.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var E=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function W(){var e=E(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),b=Object(o.a)(i,2),x=b[0],g=b[1],v=Object(a.useState)(""),w=Object(o.a)(v,2),C=w[0],N=w[1],k=Object(m.g)(),W=S();W.isAuthenticated()&&k.replace("/dashboard");return Object(y.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(j.a,{}),Object(y.jsxs)("div",{className:e.paper,children:[Object(y.jsx)(s.a,{className:e.avatar,children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),""!==c&&""!==x?W.signup(c,x).then((function(){k.replace("/login")})).catch((function(){N("Invalid username and/or password.")})):N("Enter username and password.")},children:[Object(y.jsxs)(u.a,{container:!0,spacing:2,children:[Object(y.jsx)(u.a,{item:!0,xs:12,children:Object(y.jsx)(d.a,{autoComplete:"name",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,value:c,error:C,onInput:function(e){return r(e.target.value)}})}),Object(y.jsx)(u.a,{item:!0,xs:12,children:Object(y.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:x,error:C,onInput:function(e){return g(e.target.value)}})}),Object(y.jsx)(u.a,{item:!0,xs:12,children:Object(y.jsx)(A.a,{control:Object(y.jsx)(I.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive notification via email."})})]}),Object(y.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(y.jsx)(u.a,{container:!0,justifyContent:"flex-end",children:Object(y.jsx)(u.a,{item:!0,children:Object(y.jsx)(f.b,{to:"/",children:"Already have an account? Sign in"})})})]})]}),Object(y.jsx)(F.a,{mt:5,children:Object(y.jsx)(D,{})})]})}var T=function(){return Object(y.jsx)("h1",{children:"Not Found"})},V=n(58),P=n.n(V),U=n(82),L=n(214),M=n(225),R=n(226),q=n(228),B=n(227),G=n(166),Y=n(111),J=n.n(Y),H=n(112),K=n.n(H),z=n(113),Q=n.n(z),X=n(223),Z=n(224),$=n(212),_=n(211),ee=n(238),te=n(243),ne=n(241),ae=n(222),ce=n(220),re=n(221),ie=n(219),oe=n(53),se=n(218),le=n(237),je=Object(se.a)();var de=function(e){var t=e.note,n=e.open,a=e.handleClose,r=e.categories,i=c.a.useState(t.id),s=Object(o.a)(i,2),j=(s[0],s[1]),u=c.a.useState(t.text),b=Object(o.a)(u,2),h=b[0],O=b[1],x=c.a.useState(t.category),p=Object(o.a)(x,2),m=p[0],f=p[1];return c.a.useEffect((function(){j(t.id),O(t.text),f(t.category)}),[t]),Object(y.jsxs)(ne.a,{open:n,onClose:a,children:[Object(y.jsx)(ie.a,{id:"form-dialog-title",children:"Create/Update Note"}),Object(y.jsxs)(ce.a,{children:[Object(y.jsx)(re.a,{children:"Enter note text below:"}),Object(y.jsx)(le.a,{value:m,onChange:function(e,t){"string"===typeof t?f({name:t}):t&&t.inputValue?f({name:t.inputValue}):f(t)},filterOptions:function(e,t){var n=je(e,t);return""!==t.inputValue&&n.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:r,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},renderOption:function(e){return e.name},style:{width:300},freeSolo:!0,renderInput:function(e){return Object(y.jsx)(d.a,Object(oe.a)(Object(oe.a)({},e),{},{label:"Free solo with text demo",variant:"outlined"}))}}),Object(y.jsx)("br",{}),Object(y.jsx)(d.a,{id:"text",label:"Note text",type:"text",variant:"outlined",fullWidth:!0,multiline:!0,maxRows:4,value:h,onChange:function(e){return O(e.target.value)}})]}),Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(l.a,{onClick:function(){a()},color:"primary",children:"Cancel"}),Object(y.jsx)(l.a,{onClick:function(){a()},color:"primary",children:"Add/Update"})]})]})},ue=Object(x.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},rootForFilters:{display:"flex"},formControl:{margin:e.spacing(3)}}}));var be=function(){var e=ue(),t=c.a.useState(!1),n=Object(o.a)(t,2),r=n[0],i=(n[1],c.a.useState("")),j=Object(o.a)(i,2),b=j[0],h=j[1],x=c.a.useState([]),m=Object(o.a)(x,2),g=m[0],w=m[1],C=c.a.useState([]),N=Object(o.a)(C,2),k=N[0],I=N[1],D=S();Object(a.useEffect)(Object(U.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/notes");case 2:t=e.sent,w(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(U.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/categories");case 2:t=e.sent,I(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var E=c.a.useState(!1),W=Object(o.a)(E,2),T=W[0],V=W[1],Y=c.a.useState(!1),H=Object(o.a)(Y,2),z=H[0],oe=H[1],se=c.a.useState({id:null,categoryId:null,text:""}),le=Object(o.a)(se,2),je=le[0],be=le[1],he=function(){return V(!0)},Oe=function(){return V(!1)},xe=function(e){be(e),oe(!0),oe(!0)};return Object(y.jsxs)(p.a,{fixed:!0,children:[Object(y.jsx)(X.a,{position:"static",children:Object(y.jsxs)(Z.a,{children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,children:"Dashboard"}),Object(y.jsx)(l.a,{color:"inherit",onClick:D.logout,children:"Logout"}),Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/admin",children:"ADMIN"})]})}),Object(y.jsxs)(u.a,{container:!0,spacing:4,children:[Object(y.jsxs)(u.a,{item:!0,xs:6,md:8,children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,style:{marginTop:"20px"},children:"My Notes:"}),Object(y.jsxs)(u.a,{container:!0,children:[Object(y.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(y.jsx)(d.a,{id:"outlined-basic",label:"Note search",variant:"outlined"})}),Object(y.jsx)(l.a,{variant:"contained",color:"secondary",onClick:xe,children:"Add a new note"})]}),Object(y.jsxs)("div",{className:e.demo,children:[0===g.length?Object(y.jsx)("div",{children:"No notes."}):null,Object(y.jsx)(L.a,{dense:!1,children:g.map((function(e){return Object(y.jsxs)(M.a,{children:[Object(y.jsx)(R.a,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(J.a,{})})}),Object(y.jsx)(B.a,{primary:e.note,secondary:r?"Secondary text":null}),Object(y.jsxs)(q.a,{children:[Object(y.jsx)(G.a,{edge:"end",onClick:he,children:Object(y.jsx)(K.a,{})}),Object(y.jsx)(G.a,{edge:"end",onClick:function(){return xe(e)},children:Object(y.jsx)(Q.a,{})})]})]},e.id)}))})]})]}),Object(y.jsxs)(u.a,{item:!0,xs:6,md:4,children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,align:"left",children:"Categories"}),Object(y.jsx)("div",{className:e.rootForFilters,children:Object(y.jsxs)(_.a,{component:"fieldset",children:[Object(y.jsx)($.a,{component:"legend",children:"Choose one"}),Object(y.jsxs)(te.a,{name:"category",value:b,onChange:function(e){var t=e.target.value;h(t?parseInt(t):"")},children:[Object(y.jsx)(A.a,{value:"",control:Object(y.jsx)(ee.a,{}),label:"All"}),k.map((function(e){return Object(y.jsx)(A.a,{value:e.id,control:Object(y.jsx)(ee.a,{}),label:e.name},e.id)}))]})]})})]})]}),Object(y.jsxs)(F.a,{mt:6,children:[Object(y.jsx)(l.a,{variant:"contained",style:{marginRight:"10px"},children:"Previous Page"}),Object(y.jsx)(l.a,{variant:"contained",color:"primary",children:"Next Page"})]}),Object(y.jsxs)(ne.a,{open:T,onClose:Oe,children:[Object(y.jsx)(ie.a,{id:"alert-dialog-title",children:"Are you sure want to delete?"}),Object(y.jsx)(ce.a,{children:Object(y.jsx)(re.a,{id:"alert-dialog-description",children:"This note will be deleted permanently. You sure want to delete it?"})}),Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(l.a,{onClick:Oe,color:"secondary",children:"Delete"}),Object(y.jsx)(l.a,{onClick:Oe,color:"primary",autoFocus:!0,children:"Cancel"})]})]}),Object(y.jsx)(de,{note:je,open:z,handleClose:function(){return oe(!1)},handleSave:function(){return oe(!1)},categories:k})]})},he=n(114),Oe=["children"];var xe=function(e){var t=e.children,n=Object(he.a)(e,Oe),a=S();return Object(y.jsx)(m.b,Object(oe.a)(Object(oe.a)({},n),{},{render:function(e){var n=e.location;return a.user?t:Object(y.jsx)(m.a,{to:{pathname:"/login",state:{from:n}}})}}))},pe=n(230),me=n(234),fe=n(233),ge=n(229),ve=n(231),ye=n(232),we=n(165),Ce=Object(x.a)({table:{minWidth:650},title:{flexGrow:1}});function Se(e,t,n,a){return{username:e,email:t,admin:n,action:a}}var Ne=[Se("Anna","anna@gmail.com","yes","change password"),Se("Andrei","andrei@gmail.com","no","change password"),Se("Artem","artem@gmail.com","no","change password")];function ke(){var e=Ce(),t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=c.a.useState(!1),s=Object(o.a)(i,2),j=s[0],d=s[1],u=function(){return r(!0)},b=function(){return r(!1)},h=function(){return d(!0)},x=function(){return d(!1)};return Object(y.jsxs)(p.a,{fixed:!0,children:[Object(y.jsx)(X.a,{position:"static",children:Object(y.jsxs)(Z.a,{children:[Object(y.jsx)(O.a,{variant:"h6",className:e.title,children:"Dashboard"}),Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/",children:"Logout"}),Object(y.jsx)(l.a,{color:"inherit",component:f.b,to:"/dashboard",children:"Dashboard"})]})}),Object(y.jsx)(ge.a,{component:we.a,children:Object(y.jsxs)(pe.a,{className:e.table,"aria-label":"simple table",children:[Object(y.jsx)(ve.a,{children:Object(y.jsxs)(ye.a,{children:[Object(y.jsx)(fe.a,{children:"USERNAME"}),Object(y.jsx)(fe.a,{align:"left",children:"EMAIL"}),Object(y.jsx)(fe.a,{align:"left",children:"ADMIN"}),Object(y.jsx)(fe.a,{align:"left",children:"ACTION"})]})}),Object(y.jsx)(me.a,{children:Ne.map((function(e){return Object(y.jsxs)(ye.a,{children:[Object(y.jsx)(fe.a,{component:"th",scope:"row",children:e.username}),Object(y.jsx)(fe.a,{align:"left",children:e.email}),Object(y.jsx)(fe.a,{align:"left",children:e.admin}),Object(y.jsxs)(fe.a,{align:"left",children:[Object(y.jsx)(l.a,{variant:"outlined",onClick:u,color:"primary",style:{marginRight:"10px"},children:"Change password"}),Object(y.jsx)(l.a,{variant:"outlined",onClick:h,children:"Deactivate user"})]})]},e.username)}))})]})}),Object(y.jsxs)(ne.a,{open:a,onClose:b,children:[Object(y.jsx)(ie.a,{id:"alert-dialog-title",children:"Are you sure you want to change the password?"}),Object(y.jsx)(ce.a,{children:Object(y.jsx)(re.a,{id:"alert-dialog-description",children:"The password will be changed permanently"})}),Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(l.a,{onClick:b,color:"secondary",children:"Change"}),Object(y.jsx)(l.a,{onClick:b,color:"primary",autoFocus:!0,children:"Cancel"})]})]}),Object(y.jsxs)(ne.a,{open:j,onClose:x,children:[Object(y.jsx)(ie.a,{id:"alert-dialog-title",children:"Are you sure you want to deactivate that user?"}),Object(y.jsx)(ce.a,{children:Object(y.jsx)(re.a,{id:"alert-dialog-description",children:"That user will no longer be active"})}),Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(l.a,{onClick:x,color:"secondary",children:"Deactivate"}),Object(y.jsx)(l.a,{onClick:x,color:"primary",autoFocus:!0,children:"Cancel"})]})]})]})}var Ae=function(){return Object(y.jsx)(C,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(m.d,{children:[Object(y.jsx)(m.b,{path:"/",component:k,exact:!0}),Object(y.jsx)(m.b,{path:"/login",component:k,exact:!0}),Object(y.jsx)(m.b,{path:"/signup",component:W}),Object(y.jsx)(xe,{path:"/dashboard",children:Object(y.jsx)(be,{})}),Object(y.jsx)(xe,{path:"/admin",children:Object(y.jsx)(ke,{})}),Object(y.jsx)(m.b,{component:T})]})})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(Ae,{})})}),document.getElementById("root")),Ie()}},[[163,1,2]]]);
//# sourceMappingURL=main.b3aa2aef.chunk.js.map